# Loadgen Runner

## Set-Up

- Clone `testing` repository into the directory executing `load-runner`
- Run `make` to build the `load-runner` binary
- Execute `./bin/load-runner -config ./suites/dev.yml` to run a test suite

## Configuration

- Check `suits/*` for `load-runner` configurations.
- Check `testing` repo's `setup/gateway/cases/echo/hello_world` directory for test case configuration.

## Manual Testing

If gateway/loadgen failed to run, you can run it manually with the configuraiton generated by `load-runner`

- Check the `load-runner` for `[02-09 10:40:53] [DBG] [runner.go:85] Executing gateway/loadgen with environment [[LR_GATEWAY_HOST=localhost:8000 LR_ELASTICSEARCH_ENDPOINT=http://127.0.0.1:19201 LR_GATEWAY_API_HOST=localhost:9000]]`
- Copy the environment, run gateway/loadgen manually with `LR_GATEWAY_HOST=localhost:8000 LR_ELASTICSEARCH_ENDPOINT=http://127.0.0.1:19201 LR_GATEWAY_API_HOST=localhost:9000 gateway -config TEST_CASE_PATH/gateway.yml`
