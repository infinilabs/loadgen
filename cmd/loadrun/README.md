# Loadgen Runner

## Set-Up

- Run `make` to build the `loadrun` binary
- Check `loadrun.yml` for suites & test cases configuration.
- (Optional) [Download](https://min.io/download) minio and follow up the instructions to start a local server.

## Configuration

- Check `testing` repo's `setup/gateway/cases/echo/hello_world` directory for test case configuration.
- Check `testing` repo's `suits/*` for `loadrun` configurations.

## Manual Testing

If gateway/loadgen failed to run, you can run it manually with the configuraiton generated by `loadrun`

- Check the `loadrun` for `[02-09 10:40:53] [DBG] [runner.go:85] Executing gateway/loadgen with environment [[LR_GATEWAY_HOST=localhost:8000 LR_ELASTICSEARCH_ENDPOINT=http://127.0.0.1:19201 LR_GATEWAY_API_HOST=localhost:9000]]`
- Copy the environment, run gateway/loadgen manually with `LR_GATEWAY_HOST=localhost:8000 LR_ELASTICSEARCH_ENDPOINT=http://127.0.0.1:19201 LR_GATEWAY_API_HOST=localhost:9000 gateway -config TEST_CASE_PATH/gateway.yml`
